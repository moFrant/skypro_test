# Тестовое задание

Проект показывает список товаров и заказов. Так же имеет админку.

## Развертывание проекта
### Локальная разработка
Для локальной разработки необходим установленный python 3.10, а так же pipenv.

В корне проекта необходимо инициализировать виртуальную среду. Для этого используйте инструментарий IDE, либо выполните в консоли:
```bash
pipenv --python 3.10
```

Перейти в виртуальную среду, если не используете IDE:
```bash
pipenv shell
```

Далее необходимо установить пакеты.
#### Если не собираетесь разрабатывать:
```bash
pipenv sync
```
#### Если планируется разработка:
```bash
pipenv sync --dev
```

Далее необходимо выполнить миграции:
```bash
python manage.py migrate
```

При необходимости наполнить базу тестовыми данными:
```bash
python manage.py fill_db <количество товаров> <количество категорий> <количество заказов>
```
Товары будут создаваться со случайной категорией.
Заказы будут создаваться со случайным товаров, по одному заказу в день от сегодняшней даты в прошлое.

Запуск проекта:
```bash
python manage.py runserver
```

Запуск тестов:
```bash
pytest
```

### Запуск проекта в докере
Сборка контейнера:
```bash
docker-compose -f .deploy/compose.yml build
```

Запуск контейнера:
```bash
docker-compose -f .deploy/compose.yml up
```

Запуск контейнера в фоне:
```bash
docker-compose -f .deploy/compose.yml up -d
```

Проект будет доступен по адресу `127.0.0.1`

Остановка проекта:
```bash
docker-compose -f .deploy/compose.yml down
```

Наполнить БД тестовыми данными:
```bash
docker exec -it test_task sh -c "python manage.py fill_db <количество товаров> <количество категорий> <количество заказов>"
```